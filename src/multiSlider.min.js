// MultiSlider.js, multiple sliders in the same track.
// Version 0.1
// (c) 2012 [Ippon Technologies](www.ippon.fr)
// Released under the MIT license
// https://github.com/ippontech/multiSlider.js
(function(a){function d(a,b){this.element=a;this.options=b;if(!this.options.values){this.options.values=c(b)}this._createSliders()}var b=function(a,b,c){if(!a)return false;var d=a.slider("option","values")[c?1:0];return c?b<d:b>d};var c=function(a){var b=Math.floor((a.max-a.min)/a.total),c=[],d=a.min;for(;d<a.max;d+=b){c.push(d+a.step,d+b-a.step)}return c};d.prototype={_createSliders:function(){this.reset();var a=[],b=0;for(;b<this.options.total;b++){a.push(this._newSlider(b))}return a},_newSlider:function(b){var c=this,d=c.options,f=d.values;var g=a("<div/>").css("position","absolute").width(c.element.width()).appendTo(c.element);var h=a.extend({},e,d,{values:[f[b*2],f[b*2+1]],slide:function(b,d){return c._slideHandler.call(c,b,d,a(this))}});g.slider(h);return g},_updateValues:function(a,b){this.options.values[2*a]=b[0];this.options.values[2*a+1]=b[1]},_slideHandler:function(c,d,e){if(b(e.prev(),d.values[0],true)||b(e.next(),d.values[1],false)){return false}this._updateValues(e.index(),d.values);if(this.options.slide){var f=a.extend({},d,{values:this.options.values});this.options.slide(c,f)}},option:function(a,b){if(b===undefined){return this.options[a]}if(this.options[a]===b){return this}this.options[a]=b;if(a=="total"){this.options.values=c(this.options);this._createSliders()}else if(a=="values"){this._createSliders()}},value:function(a,b){var c=this.element.children(":eq("+Math.floor(a/2)+")");if(!c){return false}b=+b;if(this.options.values[a-1]>b||this.options.values[a+1]<b){return false}var d=c.slider("option","values");d[a%2]=b;c.slider("option","values",d);this.options.values[a]=b},reset:function(){this.element.html("")}};var e={range:true};var f={total:2,min:0,max:24,step:1};a.fn.multiSlider=function(b){b=a.extend({},f,b);return new d(this,b)}})(jQuery)